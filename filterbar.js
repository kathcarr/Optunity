
var jobs = [{"role":"intern", "location":"['NJ','PA','DE']","name":"Bank of America Student Leaders","grade":"upper","app":"https://about.bankofamerica.com/en-us/global-impact/student-leader-eligibility-criteria.html#fbid=EaSqu7HgIT5","key":"business","description":"Eight week paid summer internship for current highschool Juniors and Seniors at local companies and non-profits."
},{"role":"sumpro", "location":"['NJ','PA']","name":"GenCyber Camp","description":"Cyber Security camp for rising high school juniors and senior that teaches them about national security", "grade":"upper","app":"https://www.gen-cyber.com/camps/","key":"compsci"},{"role":"opp", "location":"['PA']","name":"MESA: Aquaponics (Engineering Urban Sustainability)","description":"The MESA Saturday Academy in Urban Sustainability, Agriculture and Responsibility (AUSAR) is a pre-college high school program for 9-12th grade students enrolled in CTE agriculture, horticulture, IT, and engineering technology programs.   Students spend 10 weeks conducting research, developing technology skills and exploring undergraduate degrees in engineering and computer science that help sustain our critical infrastructure – access to clean water, nutritious food, viable transportation and renewable energy.", "grade":"","app":"https://pennsylvaniamesa.org/programs/","key":"engineering"},{"role":"sumpro" ,"location":"[PA]","name":"Short-Term Research Experience for Underrepresented Persons", "description":"Summer experience for highschool students and undergraduates looking to learn about research", "grade": "", "app":"https://www.niddk.nih.gov/research-funding/research-programs/diversity-programs/research-training-opportunities-students/short-term-research-experience-underrepresented-persons-step-up", "key":"med" }, {"role":"intern","location":"['NJ']","name":"Liberty Science Center Partners in Science Program","description":"The program pairs students with mentors in science, health, and technical fields and challenges them to participate in ongoing research and independent projects", "grade":"", "app": "https://lsc.org/education/for-teachers/partners-in-science", "key": "science"}, {"role":"intern", "location":"['NJ']", "name": "Princeton Plasma Physics Lab Summer Internship Program", "description":"Offers students the chance to work on a project with a member of the research or engineering staff","grade":"upper", "app":"https://www.pppl.gov/education/science-education/programs/high-school-semester-long-internship-high-school-summer", "key": "science"},{"role" : "intern", "location": "['PA']", "name": "NBC10 News Intern", "description": "The internships provide a professional learning experience and an opportunity for students to explore careers in the broadcast industry", "grade": "college", "app": "https://sjobs.brassring.com/TGnewUI/Search/home/HomeWithPreLoad?partnerid=25354&siteid=5108&PageType=JobDetails&jobid=457754&codes=AD007#jobDetails=457754_5108", "key": "english" }, {"role" : "intern", "location": "['PA']", "name" : "Fall Editorial Intern, Running Press", "description": "The intern will assist the editorial staff in both the Adult, Kids, and Miniature Editions imprints", "grade": "college", "app": "http://jobs.jobvite.com/careers/hachette-book-group/job/oiuCafwi?__jvst=Job+Board&__jvsd=Indeed", "key": "english"},{ "role":"intern","location":"['PA']","name":"Summer Research Opportunities Program(SROP)", "description":"Giving underprivileged students a chance to work in a laboratory environment developing many skill sets","grade":"college", "app":"http://gradschool.psu.edu/diversity/srop/", "key": "med"},{"role":"intern","location": "['NJ']", "name": "RISE at Rutgers","description":" 8 week research internship opportunity at Rutgers University","grade":"college", "app": "https://www.rise.rutgers.edu/", "key": "med"}, { "role": "intern", "location": "['DE']", "name": "OSCAR Research Program", "description": " Designed for students with an interest in biomedical research", "grade": "upper", "app": "https://oscar.desu.edu/programs/research-internship/", "key" :"med"}, { "role":"intern","location": "['PA']", "name": "Child Life Internship","description":"A comprehensive child life internship training program, accredited by the Association of Child Life Professionals, is offered three times a year at Children's Hospital of Philadelphia. Interns are involved in the planning and implementation of a developmentally and emotionally supportive programming for infants, children and adolescents.", "grade":"college", "app": "https://www.chop.edu/pages/child-life-internship", "key": "med"}, {"role":"intern", "location":"['PA']","name": "Political Affairs Internship", "description":"The Borgen Project is an innovative, national campaign that is working to make poverty a focus of U.S. foreign policy. This is a part-time 12-hour per week, unpaid telecommuting internship. The internship is for 12 weeks and responsibilities will include leading public and political outreach in your state and district","grade":"college","app":"https://borgenproject.org/telecommute-internships/?bzid=1f6f02e20c80", "key":"Politics"},{"role":"intern", "location":"['PA']","name": "Mobiniti Marketing Intern", "description":"Mobiniti is a startup company looking for college interns to coordinate and execute their social media platforms","grade":"college","app":"https://www.indeed.com/jobs?q=Startup%20Business%20Internship&jt=internship&advn=5530773938638119&vjk=aefe81cffbddd3d1", "key":"business"},{"role":"intern",  "location":"['NJ']","name":"Internal Audit Tiffany and Co","description":" Resonsible for doing internal audit for Tiffany and Co for students committed to a 4 year college", "grade":" college", "app": " https://www.linkedin.com/jobs/view/fall-2019-intern-internal-audit-tiffany-%26-co.-at-jobs-interviewing-now-from-mjh-1404416284?utm_campaign=google_jobs_apply&utm_source=google_jobs_apply&utm_medium=organic", "key":"business "}, {"role":"sumpro","location":"['NJ']", "name": "Monmouth University School of Science Summer Research Program", "description": "School of Science SRP participants will have the opportunity to carry out exciting original research in collaboration with faculty from the science departments", "grade":"", "app":"https://www.monmouth.edu/school-of-science/srp/", "key": "science"},{"role":"sumpro","location":"['PA']", "name": "ASM Materials Camp", "description": "In the laboratory sessions, camp participants will learn about metals, polymers, ceramics, composites, and nanomaterials, how these materials are processed, how their structure determines their properties, and how and where they are used. Camp activities include electron microscopy, heat treating, tensile and impact testing of metals, synthesis of slime and foam polymers, composites, and liquid crystal thermometers.", "grade":" ", "app":"https://drexel.edu/engineering/academics/high-school-programs/materials-camp/", "key": "science"},{"role":"sumpro","location":"['PA']", "name": "Women in Natural Sciences", "description": "A free after-school and summer science enrichment program at the Academy of Natural Sciences of Drexel University. Introduces high school girls to future careers in science and other professions by providing hands-on science workshops, career and college exploration, and positive youth development." , "grade":" ", "app":"https://ansp.org/education/programs/wins/ ", "key": "science"}, { "role":"sumpro","location":"['PA']", "name": "Women in STEM","description": "Temple University’s Women in STEM program invites female high school students entering grades 9 through 12 to learn about careers in STEM and develop real-world problem-solving skills through this two-week, non-credit summer pre-college program.", "grade":" ", "app":"https://www.temple.edu/summer/womenstem", "key":"science"}, {"role":"sumpro","location":"['NJ']", "name":"Aim High Academy - Rutgers Newark", "description": "residential program on the Rutgers University-Newark campus for rising 12th grade students focusing on Earth Ecology", "grade": "upper", "app": "https://em.rutgers.edu/ncp/search/ProgramDetails.aspx?id=407&awesomeBar=", "key": "science"}, {"role":"sumpro","location":"['PA']", "name":"Exelon STEM innovation leadership", "description": "A free week-long, overnight STEM leadership program held at Drexel University, where young women get to learn about energy and STEM in fun, interactive ways, such as field trips, site visits, keynote speakers, panels of women leaders from across the city, leadership development training, and an energy challenge which will result in cool prizes!", "grade": "upper", "app": "http://www.cvent.com/events/exelon-foundation-stem-innovation-leadership-academy-philadelphia/event-summary-447407b26afa48e2a2fc8db04576f910.aspx", "key": "science"}]

function onInput() {
  var value = document.getElementById("drop").value;
   if (value== "Pennsylvania"){
     value = "PA"
   }
   if (value== "Delaware"){
     value = "DE"
   }
   if (value== "New Jersey"){
     value = "NJ"
   }
   window.localStorage.setItem('state', value)
   window.location.href = "html/optunity.html";
   /*for (var i = 0; i < listjobs.length; i++){
     if (listjobs[i]['location'].includes(value)){
     jobs.push(listjobs[i])*/
  /* }*/
   //console.log('reaches end of func')
 /*}*/
}



var listint = [];
function listaddkey(subject){
    listint.push(subject);
}
var listrole = []
function listaddrole(job){
  listrole.push(job);
}
var listgrade = []
function listaddgrade(grade){
  listgrade.push(grade);
}
function wipe(){
  listint = []
  listrole = []
  listgrade = []
}

var listmatch = [];
function test() {
  console.log(jobs.length)
  var state = window.localStorage.getItem('state')
  console.log(state)
  //document.getElementById("joblist").innerHTML = "";
  for (var i = 0; i < jobs.length; i++) {
    if((listrole.includes(jobs[i]['role']) || listrole == '') && (listint.includes(jobs[i]['key'])|| listint == '') && (listgrade.includes(jobs[i]['grade'])|| jobs[i]['grade'] =='' || listgrade == '') && jobs[i]['location'].includes(state)) {
      listmatch.push(jobs[i]);
      console.log(jobs[i]);
  }
  }
  for (var i = 0; i < listmatch.length; i++ ) {
    var name = listmatch[i]['name'];
    var description = listmatch[i]['description'];
    var app = listmatch[i]["app"];
    var desc = document.createElement("div");
    var aTag = document.createElement("a");
    var title = document.createElement('h2');
    title.innerHTML = name;
    aTag.setAttribute('href', app);
    aTag.innerHTML = "Application";
    desc.innerHTML = description;
    joblist.appendChild(title);
    joblist.appendChild(desc);
    joblist.appendChild(aTag);


  }
}
